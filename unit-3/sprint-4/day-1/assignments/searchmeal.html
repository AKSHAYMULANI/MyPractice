<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seach Meal</title>
    <link rel="stylesheet" href="./styles/navbar.css">
    <link rel="stylesheet" href="./styles/products.css">
</head>
<body>
    <div id="navbar">
        
    </div>
    <input type="text" id="query" placeholder="Seach Meal by Name"/>
    <div id="container">

    </div>
    
</body>
</html>
<script type="module">
    import navbar from "./components/navbar.js";

    import {getDataSearch,append} from "./Scripts/getdata.js"
    
    document.getElementById("navbar").innerHTML = navbar()
    let query = document.getElementById("query")
    
    query.addEventListener("input",function(){
        debounsing(main,1000)
    })
    
    async function main(){
    let q = document.getElementById("query").value
    let url = `https://www.themealdb.com/api/json/v1/1/search.php?s=${q}`
    let data = await getDataSearch(url)
    let container = document.getElementById("container")
    append(data,container)
    console.log(data)
    }

    var id;

    let debounsing = async (fun,delay)=>{
        if(id){
            clearTimeout(id);
        }
           id = setTimeout( ()=>{
            fun()
           },delay)
        }
    
   
    
    
</script>
